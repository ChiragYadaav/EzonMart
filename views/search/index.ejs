<%- include("../partials/header") %>

<div class="container">
    <div class="row">
        <% products.forEach(product => { %>
            <div class="col-6 col-md-4 col-lg-3">
                <div class="card my-3 p-0">
                    <a href="/products/<%= product._id %>">
                        <div class="resp-img pro-ind my-2" style="background-image:url('<%= product.image %>')"></div>
                    </a>
                    <div class="card-body p-2 p-lg-3">
                        <a href="/products/<%= product._id %>">
                            <div class="card-title a"><%= product.name.substring(0,50) %><% if(product.name.length>50) { %>&nbsp...<% } %></div>
                        </a>
                        
                        <h6>
                            <span class="mr-1">₹<%= product.price %></span>
                            <span class="nowrap">
                                <span class="mrp mr-1">₹<%= product.mrp %></span>
                                <span class="disc"><%= product.disc_perc %>% off</span>
                            </span>
                        </h6>

                        <h6>
                            <% if(currentUser && currentUser.cart.items.some(function(cartItem){ 
                                return cartItem.product._id.equals(product._id); 
                            })) { %>
                                        <a href="/cart"><button class="btn btn-sm btn-primary mr-md-1">Go to cart</button></a>
                            <% } else { %>
                                        <a href="/cart/new/<%= product._id %>/index"><button class="btn btn-sm btn-primary mr-md-1">Add to cart</button></a>
                            <% } %>
                            <span class="nowrap disc">Save ₹<%= product.discount %></span>
                        </h6>						
                    </div>
                </div>
            </div>
        <% }) %>
    </div>
</div>

<%- include("../partials/footer") %>





view
     carts
           checkout.ejs
           confirmation.ejs
           show.ejs
     index
           login.ejs
           register.ejs
     orders
           index.ejs
           order.ejs
      partials
           header.ejs
           footer.ejs
      products
           category.ejs
           edit.ejs
           index.ejs
           new.ejs
           show.ejs
       reviews
           edit.ejs
           new.ejs
       search
           index.js

NOw i am sharing each file code one by one in sequence follow above tree to understand

cart

<%- include("../partials/header") %>
<style>
	.btn{
		background-color: #3A833A;
		color: white;
	}
	.btn:hover{
		background-color: #3A833A;
		/* background-color: black; */
		color: white;
	}
</style>

<div class="container checkout-form">
	<h4 class="mb-3">Fill up the shipping details</h4>
	<form action="/checkout" method="POST">
		<div class="row my-md-2" id="sp">
			<div class="col-md-7 my-1 my-md-0 pr-md-1" id="form-input">
				<input type="text" name="name" placeholder="Full Name" class="form-control" required>
			</div>
			<div class="col-md-5 my-1 my-md-0 pl-md-1" id="form-input">
				<input type="number" name="contactNo" placeholder="Mobile No" class="form-control" required>
			</div>
		</div>
		<div class="row my-md-2">
			<div class="col my-1 my-md-0" id="form-input">
				<input type="text" name="address[addr]" placeholder="Street/Area/Locality" class="form-control" required>
			</div>
		</div>
		<div class="row my-md-2" id="sp">
			<div class="col-md-4 my-1 my-md-0 pr-md-1" id="form-input">
				<input type="text" name="address[city]" placeholder="City" class="form-control" required>
			</div>
			<div class="col-md-4 my-1 my-md-0 px-md-1">
				<input type="text" name="address[state]" placeholder="State" class="form-control" required>
			</div>
			<div class="col-md-4 my-1 my-md-0 pl-md-1" id="form-input">
				<input type="number" name="address[pin]" placeholder="Pin Code" class="form-control" required>
			</div>
		</div>
		<div class="row my-3" id="sp" >
			<div class="col-md-5 mb-3" id="form-input" style="display: flex;align-items: center;" >
				<h6>Payment Method: COD</h6>
			</div>
			<div class="col-md-7 ">
				<div class="border pt-3 pb-2 px-3">
					<h6 class="float-right">₹<%=user.cart.cart_total%></h6>
					<h6>Cart Total</h6>
					<h6 class="float-right disc">(-)₹<%=user.cart.discount%></h6>
					<h6 class="disc">Discount</h6>
					<h6 class="float-right">₹<%=user.cart.total%></h6>
					<h6>Total Payable</h6>
				</div>
			</div>
		</div>
		<button class="btn btn-success float-right" st>Place Order</button>
		<br><br>
	</form>
</div>

<br><br><br><br><br><br><br><br><br>

<%- include("../partials/footer") %>

confirmation.ejs
<%- include("../partials/header") %>
<style>
	.btn{
		background-color: #3A833A;
		color: white;
	}
	.btn:hover{
		background-color: #3A833A;
		/* background-color: black; */
		color: white;
	}
</style>

<div class="container">
	<div class="text-center screen-center-conf">
		<h5>Congratulations!! Your Order has been placed!!</h5>
		<a href="/orders/<%= id %>" class="btn btn-success">View Order Details</a>
	</div>
	<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</div>

<br><br>
<%- include("../partials/footer") %>

show.ejs
<%- include("../partials/header") %>
<style>
	.btn{
		background-color: #3A833A;
		color: white;
	}
	.btn:hover{
		background-color: #3A833A;
		/* background-color: black; */
		color: white;
	}
</style>

<div class="container">
	<div class="text-center screen-center-conf">
		<h5>Congratulations!! Your Order has been placed!!</h5>
		<a href="/orders/<%= id %>" class="btn btn-success">View Order Details</a>
	</div>
	<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</div>

<br><br>
<%- include("../partials/footer") %>

index:

login.ejs
<%- include("../partials/header") %>

<div class="container" id="hi">
	<h2 class="text-center mt-3">Login</h2>
	<div class="login-register">
		<form action="/login" method="POST" autocomplete="off">
			<div class="form-group">
				<input type="text" name="username" placeholder="username" class="form-control">
			</div>
			<div class="form-group">
				<input type="password" name="password" placeholder="password" class="form-control">
			</div>
			<button class="btn btn-primary btn-block">Login</button>
		</form>
		<p class="mt-2">Don't have an account? <a href="/register" class="text-center">Sign Up</a></p>
	</div>
</div>

<br><br><br><br><br><br><br>

<%- include("../partials/footer") %>

register.ejs
<%- include("../partials/header") %>

<div class="container" id="hi">
	<h2 class="text-center mt-3">Sign Up</h2>
	<div class="login-register">
		<form action="/register" method="POST" autocomplete="off">
			<div class="form-group">
				<input type="text" name="username" placeholder="username" class="form-control">
			</div>
			<div class="form-group">
				<input type="password" name="password" placeholder="password" class="form-control">
			</div>
			<button class="btn btn-primary btn-block">Sign Up</button>
		</form>
		<p class="mt-2">Already have an account? <a href="/login" class="text-center">Login</a></p>
	</div>
</div>
<br><br><br><br><br><br><br>

<%- include("../partials/footer") %>


orders
index.ejs
<%- include("../partials/header") %>
<style>
	body{
		background-color: white;
	}
	.navbar{
		background-color: rgba(0, 0, 0, 0.1);
	}
</style>

<div class="container ord-ind-div">
	<% orders.forEach(function(order) { %>
		<a href="/orders/<%= order._id %>" class="a-order">
			<div class="border px-2 px-md-3 pt-3 pb-2 my-4">
				<h6 class="float-right ml-2"><%= order.date.toDateString() %></h6>
				<h6>Order No - <%= order.no %></h6>
				<hr>
				<div class="row">
					<div class="col-3">
						<div class="resp-img order" style="background-image:url('<%= order.checkoutCart.items[0].product.image %>')"></div>
					</div>
					<div class="col-9">
						<div class="mb-2">
							<%= order.checkoutCart.items[0].product.name.substring(0,50) %><% if(order.checkoutCart.items[0].product.name.length>50) { %>&nbsp...<% } %>
						</div>

						<h6>
							<span class="mr-1">₹<%= order.checkoutCart.items[0].product.price %></span>
							<span class="nowrap">
								<span class="mrp mr-1">₹<%= order.checkoutCart.items[0].product.mrp %></span>
								<span class="disc"><%= order.checkoutCart.items[0].product.disc_perc %>% off</span>
							</span>
							<div class="disc nowrap">You Saved ₹<%= order.checkoutCart.items[0].product.discount %></div>
						</h6>

						<div class="nowrap">Quantity - <%= order.checkoutCart.items[0].qty %></div>
					</div>
				</div> 
				
				<% if(order.checkoutCart.items.length>1){ %>
					<hr>
					<div class="float-right">+ <%= order.checkoutCart.items.length-1 %> more product(s)</div><br>
				<% } %>
				<hr>
				<h6 class="float-right">₹<%= order.checkoutCart.total %></h6>
				<h6>Total Payable</h6>
			</div>
		</a>
	<% }); %>

	<% if(orders.length==0){ %>
		<div class="text-center screen-center-cart">
			<img src="https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90" class="empty-cart-img">
			<h5>You haven't placed any orders yet!!</h5>
			<a href="/products" class="btn btn-success">Start Shopping</a>
		</div>
	<% } %>		
</div>

<%- include("../partials/footer") %>

show.ejs
<%- include("../partials/header") %>
<style>
	body{
		background-color: white;
	}
	.navbar{
		background: rgba(0, 0, 0, 0.1);
	}
</style>

<div class="container ord-show-div">
	<div class="row">
		<div class="col-md-7">
			<div class="border my-4 px-2 px-md-3 py-3">
				<h6 class="float-right"><%= order.date.toDateString() %></h6>
				<h6>Order No - <%= order.no %></h6>
				<% order.checkoutCart.items.forEach(function(cartItem){ %>
					<hr>
					<div class="row">
						<div class="col-3">
							<a href="/products/<%= cartItem.product.id %>">
								<div class="resp-img order" style="background-image:url('<%= cartItem.product.image %>')"></div>
							</a>
						</div>
						<div class="col-9">
							<a href="/products/<%= cartItem.product.id %>">
								<div class="a mb-2"><%= cartItem.product.name %></div>
							</a>
							<h6>
								<span class="mr-1">₹<%= cartItem.product.price %></span>
								<span class="nowrap">
									<span class="mrp mr-1">₹<%= cartItem.product.mrp %></span>
									<span class="disc"><%= cartItem.product.disc_perc %>% off</span>
								</span>
								<div class="disc nowrap">You Saved ₹<%= cartItem.product.discount %></div>
							</h6>
							<div class="nowrap">Quantity - <%= cartItem.qty %></div>
						</div>
					</div> 
				<% }); %>
			</div>
		</div>
		<div class="col-md-5">
			<div class="border mb-4 mt-md-4 px-2 px-md-3 pt-3 pb-2">
				<h5>Shipping Details</h5>
				<hr>
				<h6><%= order.name %></h6>
				<div><%= order.address.addr %></div>
				<div><%= order.address.city %>, <%= order.address.state %></div>
				<div><%= order.address.pin %></div>
				<div>Phone Number: <%= order.contactNo %></div>
				<hr>
				<h6 class="float-right">₹<%=order.checkoutCart.cart_total%></h6>
				<h6>Order Total</h6>
				<h6 class="float-right disc">(-)₹<%=order.checkoutCart.discount%></h6>
				<h6 class="disc">Discount</h6>
				<h6 class="float-right">₹<%=order.checkoutCart.total%></h6>
				<h6>Total Payable</h6>
				<h6>Payment Method: <%= order.paymentMode %></h6>
			</div>
		</div>
	</div>
</div>
<%- include("../partials/footer") %>

partials
header.ejs
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>EzonMart</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="/styles.css" />
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script
      defer
      src="https://kit.fontawesome.com/95f68113d2.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg">
      <div class="container">
        <a class="navbar-brand" href="/" style="font-family: handwriting; padding-right: 30px;">
          <span class="red-letter">EzonMart</span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/products"
                >Home <span class="sr-only">(current)</span></a
              >
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="/products/category/all"
                >Products <span class="sr-only">(current)</span></a
              >
            </li>
            <!-- <% //if(currentUser && currentUser.username=='admin') { %> -->
            <li class="nav-item active" style="display:none">
              <a class="nav-link" href="/products/new"
                >Add Product<span class="sr-only">(current)</span></a
              >
            </li>
            <!-- <% //} %> -->
            <li class="nav-item active">
              <input
                type="search"
                class="nav-searchbar"
                placeholder="Search products"
              />
              <span class="search-icon">
                <i class="fa-solid fa-magnifying-glass"></i>
              </span>
            </li>
          </ul>
          <ul class="navbar-nav navbar-right">
            <% if(!currentUser) { %>
            <li class="nav-item active">
              <a class="nav-link" href="/register"
                >Sign Up <span class="sr-only">(current)</span></a
              >
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="/login"
                >Login <span class="sr-only">(current)</span></a
              >
            </li>
            <% } else { %>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                style="color: black"
              >
                Welcome <%= currentUser.username %>
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/orders">My Orders</a>
                <a class="dropdown-item" href="/logout">Logout</a>
              </div>
            </li>
            <% } %>
            <li class="nav-item active">
              <a class="nav-link cart-logo" href="/cart">
                <i class="fas fa-shopping-cart mr-2"></i>Cart<span
                  class="sr-only"
                  >(current)</span
                >
                <% if(currentUser) { %>
                <span id="cart-count"
                  ><%= currentUser.cart.items.length %>
                </span>
                <% } %>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <% if(success && success.length>0) { %>
      <div class="alert alert-success mt-3"><%= success %></div>
      <% } %> <% if(error && error.length>0) { %>
      <div class="alert alert-danger mt-3"><%= error %></div>
      <% } %>
    </div>
    <script src="/script.js"></script>
  </body>
</html>

footer.ejs
	<footer>
		<h1>EzonMart</h1>
		<div class="socails">
			<div class="insta">
				<i class="fa-brands fa-instagram"></i>
				Instagram
			</div>
			<div class="twitte">
				<i class="fa-brands fa-twitter"></i>
				Twitter
			</div>
			<div class="email">
				<i class="fa-regular fa-envelope"></i>
				ecommerce@xyz.com
			</div>
			<div class="phone">
				<i class="fa-solid fa-phone"></i>
				+91 1234xxx890</div>
		</div>
	</footer>
	
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>

products : 
category.ejs
<%- include("../partials/header") %>

<div class="box">
  <div class="jumbotron text-center">
    <h3 style="text-transform: capitalize">
      <%= category+(category==="all"?" Products":"") %>
    </h3>
  </div>

  <div class="container row" id="main">
    <% products.forEach(function(product){ %>
    <div class="col-6 col-md-3 col-lg-3" style="background: black">
      <div class="card my-3 p-0" style="background: black">
        <a href="/products/<%= product._id %>">
          <div
            class="resp-img pro-ind my-2"
            style="background-image: url('<%= product.image %>')"
          ></div>
        </a>
        <div class="card-body p-2 p-lg-3">
          <a href="/products/<%= product._id %>">
            <div class="card-title a" style="color: white; text-align: center;">
              <%= product.name.substring(0,50) %><% if(product.name.length>50) {
              %>&nbsp...<% } %>
            </div>
          </a>

          <h6 style="color: white">
            <span class="mr-1" style="padding-left: 30px;">₹<%= product.price %></span>
            <span class="nowrap">
              <span class="mrp mr-1">₹<%= product.mrp %></span>
              <span class="disc" style="color: cyan"
                ><%= product.disc_perc %>% off</span
              >
            </span>
          </h6>

          <h6 style="color: white">
            <% if(currentUser && currentUser.cart.items.some(function(cartItem){
            return cartItem.product._id.equals(product._id); })) { %>
            <a href="/cart"
              ><button
                class="btn btn-sm btn-primary mr-md-1"
                style="color: black; background: white"
              >
                Go to cart
              </button></a
            >
            <% } else { %>
              <span class="nowrap disc" style="color: cyan; padding: 80px;"
              >Save ₹<%= product.discount %></span
            >
            <a href="/cart/new/<%= product._id %>/index"
              ><button class="btn btn-sm btn-info mr-md-1" id="un">
                Add to cart
              </button></a
            >
            <% } %>
          </h6>
        </div>
      </div>
    </div>
    <% }); %>
  </div>
</div>

<%- include("../partials/footer") %>

edit.ejs
<%- include("../partials/header") %>

<div class="container">
	<h2 class="text-center mt-3">Edit Product</h2>
	<div class="product-form">
		<form action="/products/<%= product._id %>?_method=PUT" method="POST" autocomplete="off">
			<div class="form-group">
				<input type="text" name="product[name]" value="<%= product.name %>" class="form-control" required>
			</div>
			<div class="form-group">
				<input type="text" name="product[image]" value="<%= product.image %>" class="form-control" required>
			</div>
			<div class="form-group">
				<div class="row">
					<div class="col-6 pr-1">
						<input type="number" step="1" name="product[mrp]" value="<%= product.mrp %>" min="0" step="100" class="form-control" required>
					</div>
					<div class="col-6 pl-1">
						<input type="number" step="1" name="product[price]" value="<%= product.price %>" min="0" step="100" class="form-control" required>
					</div>
				</div>
			</div>
			<button class="btn btn-primary btn-block">Edit Product</button>
		</form>
		<a href="/products/<%= product._id %>" class="text-center">Go Back</a>
	</div>
</div>

<%- include("../partials/footer") %>

 index.ejs
<%- include("../partials/header") %>

<div>

<div id="slider">
  <div class="slides">
    <div class="slider">     
      <div class="image">
        <a href="http://localhost:4000/products/category/Women">
        <img src="https://img.freepik.com/free-vector/realistic-winter-sale-banner-template_52683-100252.jpg?w=1800&t=st=1701095536~exp=1701096136~hmac=a368577ccaeeb4cc66800955e9be90f8af160a447de5d1be470a2a44049f81a0"></a>
        <!-- <img src="https://img.freepik.com/free-vector/winter-product-podium-background-drifts-snowflakes-snow-realistic-product-podium-winter-christmas-discount-design-sale-vector-illustration_87521-3501.jpg?w=2000&t=st=1701095610~exp=1701096210~hmac=0b0cb98601b88a96e5fc10336644b9ab95e898684cfeb17aaa5e3b34e12210e1"> -->
      </div>
    </div>
    <div class="slider">
      <a href="http://localhost:4000/products/category/Mobiles">
      <div class="content">
        <div class="content-txt">
          <h1>New iPhones </h1>
          <h2>are also available</h2>
        </div>
      </div>
    </a>
      <div class="image">
          <img src="https://mir-s3-cdn-cf.behance.net/project_modules/1400_opt_1/34b5bf180145769.6505ae7623131.jpg"></a>

        <!-- <img src="https://static.vecteezy.com/system/resources/previews/001/335/283/original/exclusive-black-friday-sale-poster-banner-background-free-vector.jpg"> -->
      </div>
    </div>
    <div class="slider">
      <div class="legend"></div>
      <a href="http://localhost:4000/products/category/Laptops">
      <div class="content">
        <div class="content-txt">
          <h1>Black Friday Sale</h1>
          <h2>upto 50% off on all Items. T&C apply</h2>
        </div>
      </div>
    </a>
      <div class="image">
        <!-- <img src="https://img.freepik.com/free-vector/mega-sale-banner-blue-yellow-colors_1017-32176.jpg?size=626&ext=jpg&ga=GA1.1.791500655.1695650306&semt=sph"> -->
        <img src="https://static.vecteezy.com/system/resources/previews/001/335/283/original/exclusive-black-friday-sale-poster-banner-background-free-vector.jpg">
        <!-- <img src="https://img.freepik.com/free-vector/realistic-winter-sale-banner-template_52683-100252.jpg?w=1800&t=st=1701095536~exp=1701096136~hmac=a368577ccaeeb4cc66800955e9be90f8af160a447de5d1be470a2a44049f81a0"> -->
      </div>
    </div>
    <div class="slider">
      <div class="legend"></div>
      <a href="http://localhost:4000/products/category/Mens">
      <div class="content">
        <div class="content-txt">
          <h1>Special Sale is live</h1>
          <h2>Sale is live get upto 40% off on Electronic Items. T&C apply</h2>
        </div>
      </div>
    </a>
      <div class="image">
         <img src="https://img.freepik.com/free-vector/winter-product-podium-background-drifts-snowflakes-snow-realistic-product-podium-winter-christmas-discount-design-sale-vector-illustration_87521-3501.jpg?w=2000&t=st=1701095610~exp=1701096210~hmac=0b0cb98601b88a96e5fc10336644b9ab95e898684cfeb17aaa5e3b34e12210e1">
        </div>
    </div>
  </div>
  <div class="switch">
    <ul>
      <li>
        <div class="on"></div>
      </li>
      <li></li>
      <li></li>
      <li></li>
    </ul>
  </div>
</div>

<section class="shipping">
  <div class="s_container">
    <div class="grid1">
      <div class="box">
        <i class="fa fa-undo"></i>
        <h3>30 Days Return</h3>
      </div>
      <div class="box">
        <i class="fa fa-truck"></i>
        <h3>Free Shipping</h3>
      </div>
      <div class="box">
        <i class="fa fa-lock"></i>
        <h3>Secure Payments</h3>
      </div>
      <div class="box">
        <i class="fa fa-gift"></i>
        <h3>New Product</h3>
      </div>
    </div>
  </div>
</section>

<div class="head">
  <div class="cont">
    <div class="slide">
      <div class="testimonal" id="testimonal-1">
        <div class="user-text">
          <h3>Prince</h3>
          <div class="twitter"><i class="fab fa-twitter"><small>@prime</small></i></div>
          <p>EzonMart is a great place to find everything you need for your home. I've bought everything from groceries to clothes to furniture at EzonMart, and I've always been happy with my purchases. The prices are always low, and the selection is great..</p>
        </div>
        <div class="img">
          <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80" alt="" class="user">
        </div>
      </div>
      <div class="testimonal" id="testimonal-2">
        <div class="user-text">
          <h3>Chirag</h3>
          <div class="twitter"><i class="fab fa-twitter"><small>@chirag</small></i></div>
          <p>EzonMart is a great place to find electronics and appliances. I've bought everything from TVs and laptops to refrigerators and washers at EzonMart, and I've always been happy with my purchases. The selection is great, and the staff is always knowledgeable and helpful. </p>
        </div>
        <div class="img">
          <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80" alt="" class="user">
        </div>
      </div>
      <div class="testimonal" id="testimonal-3">
        <div class="user-text">
          <h3>Salman</h3>
          <div class="twitter"><i class="fab fa-twitter"><small>@sallu</small></i></div>
          <p>It s a great place to find great deals on clothes, shoes, and home goods. I've bought everything from jeans and dresses to shoes and accessories at EzonMart, and I've always been happy with my purchases. The prices are always low, and the selection is great. </p>
        </div>
        <div class="img">
          <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80" alt="" class="user">
        </div>
      </div>
      <div class="testimonal" id="testimonal-4">
        <div class="user-text">
          <h3>Jatin</h3>
          <div class="twitter"><i class="fab fa-twitter"><small>@jatt</i></small></div>
          <p>It is a great place to find high-quality clothes, shoes, and accessories for the whole family. I've bought everything from dresses and suits to shoes and handbags at EzonMart, and I've always been happy with my purchases. The quality is excellent, and the selection is great. </p>
        </div>
        <div class="img">
          <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80" alt="" class="user">
        </div>
      </div>
      <div class="testimonal" id="testimonal-5">
        <div class="user-text">
          <h3>Abhay</h3>
          <div class="twitter"><i class="fab fa-twitter"><small>@abhay</small></i></div>
          <p>It is a great place to find high-quality home goods at discounted prices. I've bought everything from bedding and towels to kitchenware and furniture at EzonMart, and I've always been happy with my purchases. The selection is wide-ranging, and the prices are unbeatable. </p>
        </div>
        <div class="img">
          <img src="https://images.unsplash.com/photo-1570295999919-56ceb5ecca61?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=880&q=80" alt="" class="user">
        </div>
      </div>
    </div>
    <div class="slider-btn">
      <a href="#testimonal-1"><span class="dot"></span></a>
      <a href="#testimonal-2"><span class="dot"></span></a>
      <a href="#testimonal-3"><span class="dot"></span></a>
      <a href="#testimonal-4"><span class="dot"></span></a>
      <a href="#testimonal-5"><span class="dot"></span></a>
    </div>
  </div>
</div>

  <h3 style="text-align:center" class="mb-3">Shop By Categories</h3>
  <div class="row justify-content-center" id="grid">
    <% categories.forEach(category => { %>
    <a class="col-lg-3 col-md-6" href="/products/category/<%= category.replaceAll(" ","-") %>">
      <div class="category-container text-center mb-3">
        <span><%= category %> </span>
      </div>
    </a>
    <% }) %>
  </div>
</div>

<%- include("../partials/footer") %>

new.ejs
<%- include("../partials/header") %>

<div class="container">
	<h2 class="text-center mt-3">Add Product</h2>
	<div class="product-form">
		<form action="/products" method="POST" autocomplete="off">
			<div class="form-group">
				<input type="text" name="product[name]" placeholder="name" class="form-control" required>
			</div>
			<div class="form-group">
				<input type="text" name="product[image]" placeholder="image url" class="form-control" required>
			</div>
			<div class="form-group">
				<input type="text" name="product[category]" placeholder="category" class="form-control" required>
			</div>
			<div class="form-group">
				<div class="row">
					<div class="col-6 pr-1" style="padding: 0px;">
						<input type="number" step="1" name="product[mrp]" placeholder="MRP(₹)" min="0" step="100" class="form-control" required>
					</div>
					<div class="col-6 pl-1" style="padding: 0px;">
						<input type="number" step="1" name="product[price]" placeholder="Selling Price(₹)" min="0" step="100" class="form-control" required>
					</div>
				</div>
			</div>
			<button class="btn btn-primary btn-block" style="margin-bottom: 10px;">Add Product</button>
		</form>
		<a href="/products" class="text-center">Go Back</a>
		<br><br><br><br><br><br><br>
	</div>
</div>

<%- include("../partials/footer") %>

show.ejs
<%- include("../partials/header") %>

<div class="container mt-4 mt-md-5">
	<div class="row">
		<div class="col-md-5 mb-4">
			<div class="resp-img pro-show" style="background-image:url('<%= product.image %>')"></div>
		</div>
		<div class="col-md-7">
			<h5><%= product.name %></h5>

			<% if(currentUser && currentUser.username=='admin') { %>
				<div class="my-3">
					<a href="/products/<%= product._id %>/edit"><button class="btn btn-sm btn-warning">Edit</button></a>
					<form action="/products/<%= product._id %>?_method=DELETE" method="POST" class="d-inline-block">
						<button class="btn btn-sm btn-danger">Remove</button>
					</form>
				</div>
			<% } %>

			<div class="card p-3 my-4">
				<h6>Description</h6>
				<p>This will be the product description.</p>
			</div>
			
			<h5>
				<span class="mr-1">₹<%= product.price %></span>
				<span class="nowrap">
					<span class="mrp mr-1">₹<%= product.mrp %></span>
					<span class="disc"><%= product.disc_perc %>% off</span>
				</span>
			</h5>

			<h6>
				<% if(currentUser && currentUser.cart.items.some(function(cartItem){ 
					  return cartItem.product._id.equals(product._id); 
				   })) { %>
							<a href="/cart"><button class="btn btn-primary mr-2">Go to cart</button></a>
				<% } else { %>
							<a href="/cart/new/<%= product._id %>/show"><button class="btn btn-primary mr-2">Add to cart</button></a>
				<% } %>
				<span class="disc nowrap">Save ₹<%= product.discount %></span>
			</h6>

			<div class="card my-5">
				<div class="card-body">
					<div class="float-right">
						<a href="/products/<%= product._id %>/reviews/new" class="btn btn-sm btn-success">Leave a Review</a>
					</div>
					<h5>Customer Reviews</h5>
					<% product.reviews.forEach(function(review){ %>
						<hr>
						<div class="float-right opac ml-2"><%= review.user %>, <%= review.date.toDateString() %></div>
						<h6><%= review.title %></h6>
						<p><%= review.text %></p>
						<% if(currentUser && currentUser.username==review.user) { %>
							<div>
								<a href="/products/<%= product._id %>/reviews/<%= review._id %>/edit"><button class="btn btn-sm btn-warning">Edit</button></a>
								<form action="/products/<%= product._id %>/reviews/<%= review._id %>?_method=DELETE" method="POST" class="d-inline-block">
									<button class="btn btn-sm btn-danger">Remove</button>
								</form>
							</div>
						<% } %>
					<% }); %>
				</div>
			</div>
		</div>
	</div>
</div>

<%- include("../partials/footer") %>

review
edit.ejs
<%- include("../partials/header") %>

<div class="container">
	<h2 class="text-center mt-3">Edit Review</h2>
	<div class="review-form">
		<form action="/products/<%= product._id %>/reviews/<%= review._id %>?_method=PUT" method="POST" autocomplete="off">
			<div class="form-group">
				<input type="text" name="review[title]" value="<%= review.title %>" class="form-control" required>
			</div>
			<div class="form-group">
				<textarea name="review[text]" class="form-control" required> <%= review.text %> </textarea>
			</div>
			<button class="btn btn-primary btn-block">Edit Review</button>
		</form>
		<a href="/products/<%= product._id %>" class="text-center">Go Back</a>
	</div>
</div>

<%- include("../partials/footer") %>

new.ejs
<%- include("../partials/header") %>

<div class="container">
	<h2 class="text-center mt-3">Add a Review</h2>
	<div class="review-form">
		<form action="/products/<%= product._id %>" method="POST" autocomplete="off">
			<div class="form-group">
				<input type="text" name="review[title]" placeholder="Title" class="form-control" required>
			</div>
			<div class="form-group">
				<textarea name="review[text]" placeholder="Write your review here" class="form-control" required></textarea>
			</div>
			<button class="btn btn-primary btn-block">Add Review</button>
		</form>
		<a href="/products/<%= product._id %>" class="text-center">Go Back</a>
	</div>
</div>

<%- include("../partials/footer") %>

search
indes.ejs
<%- include("../partials/header") %>

<div class="container">
    <div class="row">
        <% products.forEach(product => { %>
            <div class="col-6 col-md-4 col-lg-3">
                <div class="card my-3 p-0">
                    <a href="/products/<%= product._id %>">
                        <div class="resp-img pro-ind my-2" style="background-image:url('<%= product.image %>')"></div>
                    </a>
                    <div class="card-body p-2 p-lg-3">
                        <a href="/products/<%= product._id %>">
                            <div class="card-title a"><%= product.name.substring(0,50) %><% if(product.name.length>50) { %>&nbsp...<% } %></div>
                        </a>
                        
                        <h6>
                            <span class="mr-1">₹<%= product.price %></span>
                            <span class="nowrap">
                                <span class="mrp mr-1">₹<%= product.mrp %></span>
                                <span class="disc"><%= product.disc_perc %>% off</span>
                            </span>
                        </h6>

                        <h6>
                            <% if(currentUser && currentUser.cart.items.some(function(cartItem){ 
                                return cartItem.product._id.equals(product._id); 
                            })) { %>
                                        <a href="/cart"><button class="btn btn-sm btn-primary mr-md-1">Go to cart</button></a>
                            <% } else { %>
                                        <a href="/cart/new/<%= product._id %>/index"><button class="btn btn-sm btn-primary mr-md-1">Add to cart</button></a>
                            <% } %>
                            <span class="nowrap disc">Save ₹<%= product.discount %></span>
                        </h6>						
                    </div>
                </div>
            </div>
        <% }) %>
    </div>
</div>

<%- include("../partials/footer") %>